<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>이벤트 루프 - 홍동욱 | 우아한테크캠프3기 스터디 블로그</title>
    <meta name="generator" content="VuePress 1.5.0">
    
    <meta name="description" content="">
    <link rel="preload" href="/practice-interview/assets/css/0.styles.0ddf9524.css" as="style"><link rel="preload" href="/practice-interview/assets/js/app.56e5f5e7.js" as="script"><link rel="preload" href="/practice-interview/assets/js/2.31acd8a3.js" as="script"><link rel="preload" href="/practice-interview/assets/js/9.69ed37e1.js" as="script"><link rel="prefetch" href="/practice-interview/assets/js/10.8e247e4c.js"><link rel="prefetch" href="/practice-interview/assets/js/11.409427b9.js"><link rel="prefetch" href="/practice-interview/assets/js/12.605f3be8.js"><link rel="prefetch" href="/practice-interview/assets/js/13.a93783e6.js"><link rel="prefetch" href="/practice-interview/assets/js/14.0f524ff4.js"><link rel="prefetch" href="/practice-interview/assets/js/15.07eac05f.js"><link rel="prefetch" href="/practice-interview/assets/js/16.9b5731e2.js"><link rel="prefetch" href="/practice-interview/assets/js/17.314c7e44.js"><link rel="prefetch" href="/practice-interview/assets/js/3.54356929.js"><link rel="prefetch" href="/practice-interview/assets/js/4.685e2bcc.js"><link rel="prefetch" href="/practice-interview/assets/js/5.2daabbc8.js"><link rel="prefetch" href="/practice-interview/assets/js/6.ebeb276b.js"><link rel="prefetch" href="/practice-interview/assets/js/7.19667231.js"><link rel="prefetch" href="/practice-interview/assets/js/8.4d5270ae.js">
    <link rel="stylesheet" href="/practice-interview/assets/css/0.styles.0ddf9524.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/practice-interview/" class="home-link router-link-active"><!----> <span class="site-name">우아한테크캠프3기 스터디 블로그</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/woowa-techcamp-2020/practice-interview" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/woowa-techcamp-2020/practice-interview" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>CS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/practice-interview/CS/꼬리물기 최적화-조찬기.html" class="sidebar-link">꼬리물기 최적화 - 조찬기</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Javascript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/practice-interview/Javascript/Blocking,NonBlocking,Synchronous,Asynchronous-박철훈.html" class="sidebar-link">Blocking-NonBlocking-Synchronous-Asynchronous - 박철훈</a></li><li><a href="/practice-interview/Javascript/Closure-남현우.html" class="sidebar-link">Closure - 남현우</a></li><li><a href="/practice-interview/Javascript/EventLoop-홍동욱.html" class="active sidebar-link">이벤트 루프 - 홍동욱</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/practice-interview/Javascript/EventLoop-홍동욱.html#🤪-event-loop" class="sidebar-link">🤪 Event Loop?</a></li><li class="sidebar-sub-header"><a href="/practice-interview/Javascript/EventLoop-홍동욱.html#🤔-먼저-알아야할게-많군" class="sidebar-link">🤔 먼저 알아야할게 많군..</a></li><li class="sidebar-sub-header"><a href="/practice-interview/Javascript/EventLoop-홍동욱.html#😡-js-프로그래밍에서-느려진다-는-것은-무엇일까요" class="sidebar-link">😡 JS 프로그래밍에서 '느려진다'는 것은 무엇일까요?</a></li><li class="sidebar-sub-header"><a href="/practice-interview/Javascript/EventLoop-홍동욱.html#🙄-그럼-위-사진에서-서버-요청을-처리하는-작업은-누가-담당하나요" class="sidebar-link">🙄 그럼 위 사진에서 서버 요청을 처리하는 작업은 누가 담당하나요?</a></li><li class="sidebar-sub-header"><a href="/practice-interview/Javascript/EventLoop-홍동욱.html#🤣-예시를-국민-예시-settimeout으로-바꿔-볼게요" class="sidebar-link">🤣 예시를 국민 예시, setTimeout으로 바꿔 볼게요..</a></li><li class="sidebar-sub-header"><a href="/practice-interview/Javascript/EventLoop-홍동욱.html#😪-지금까지-이야기를-한장의-그림으로-표현하면" class="sidebar-link">😪 지금까지 이야기를 한장의 그림으로 표현하면..</a></li><li class="sidebar-sub-header"><a href="/practice-interview/Javascript/EventLoop-홍동욱.html#😩-이벤트-루프" class="sidebar-link">😩 이벤트 루프</a></li><li class="sidebar-sub-header"><a href="/practice-interview/Javascript/EventLoop-홍동욱.html#😇-callback-queue에는-여러-종류가-있다" class="sidebar-link">😇 Callback Queue에는 여러 종류가 있다.</a></li><li class="sidebar-sub-header"><a href="/practice-interview/Javascript/EventLoop-홍동욱.html#reference" class="sidebar-link">Reference</a></li></ul></li><li><a href="/practice-interview/Javascript/Hoisting-전수현.html" class="sidebar-link">Hoisting - 전수현</a></li><li><a href="/practice-interview/Javascript/JS this-김유영.html" class="sidebar-link">Javascript this - 김유영</a></li><li><a href="/practice-interview/Javascript/Polyfill-조찬기.html" class="sidebar-link">Polyfill - 조찬기</a></li><li><a href="/practice-interview/Javascript/Prototype-전은정.html" class="sidebar-link">프로토타입 기반 프로그래밍 - 전은정</a></li><li><a href="/practice-interview/Javascript/Symbol-조찬기.html" class="sidebar-link">Javascript Symbol (심볼) - 조찬기</a></li><li><a href="/practice-interview/Javascript/이벤트객체,throttle,debounce-한규현.html" class="sidebar-link">Event 객체란? 캡처링과 버블링, 이벤트 위임, 쓰로틀링 &amp; 디바운싱 - 한규현</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>React</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/practice-interview/React/Flux Archetecture-이슬기.html" class="sidebar-link">Flux - 이슬기</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Frontend</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/practice-interview/Frontend/BrowserRender-정진혁.html" class="sidebar-link">브라우저 렌더링 동작 과정 - 정진혁</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="이벤트-루프-홍동욱"><a href="#이벤트-루프-홍동욱" class="header-anchor">#</a> 이벤트 루프 - 홍동욱</h1> <blockquote><p>설명은 브라우저 기준으로 했음.</p></blockquote> <h2 id="🤪-event-loop"><a href="#🤪-event-loop" class="header-anchor">#</a> 🤪 Event Loop?</h2> <ul><li>Event Loop는 자바스크립트에 동시성을 지원.</li> <li>Call Stack과 Callback Queue의 상태를 체크하여,<strong>Call Stack이 빈 상태가 되면, Callback Queue의 첫번째 콜백을 Call Stack으로 밀어넣는다</strong></li> <li>이벤트 루프는 자바스크립가 구동되는 환경 즉, 브라우저에 있음. NodeJS는 <code>libuv</code> 라는 라이브러리를 활용해서 이벤트루프 기능을 제공한다.</li></ul> <h2 id="🤔-먼저-알아야할게-많군"><a href="#🤔-먼저-알아야할게-많군" class="header-anchor">#</a> 🤔 먼저 알아야할게 많군..</h2> <p>자바스크립트는 <strong>싱글 쓰레드</strong> 언어. 그럼 <strong>싱글 쓰레드</strong> 언어의 특징은?</p> <p><strong>콜 스택(Call Stack)이 1개</strong></p> <ul><li>다른말로 '실행 컨텍스트' &gt; 실행 컨텍스트가 궁금하다면? <a href="https://doonguk.github.io/javascript/the-execution-context-(js)/" target="_blank" rel="noopener noreferrer">여기<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 참고</li> <li>콜스택은 <strong>메모리에 존재하는 공간 중의 하나</strong>로, 코드를 읽어내려가면서 수행할 작업들을 밑에서부터 하나씩 쌓고, 메모리 힙에서 작업 수행에 필요한 것들을 찾아서 작업을 수행하는 공간 &gt; 자세한 설명이 궁금하다면? <a href="vscode-webview-resource://11e2d440-0493-41e8-bc62-4d7b60f876b1/file///Users/woowahan15/Downloads/%5Bhttps://doonguk.github.io/javascript/%EB%A9%94%EB%AA%A8%EB%A6%AC-%ED%9E%99-&amp;-%EC%BD%9C-%EC%8A%A4%ED%83%9D/%5D(https://doonguk.github.io/javascript/%EB%A9%94%EB%AA%A8%EB%A6%AC-%ED%9E%99-&amp;-%EC%BD%9C-%EC%8A%A4%ED%83%9D/)">여기</a> 참고</li> <li>콜 스택이 1개라는 뜻은 한번에 하나의 코드만 실행할 수 있다는 뜻!</li></ul> <p><img src="https://user-images.githubusercontent.com/39187116/91078663-ed043d80-e67d-11ea-9c77-24326ed58587.png" alt="https://user-images.githubusercontent.com/39187116/91078663-ed043d80-e67d-11ea-9c77-24326ed58587.png"></p> <p>위 사진은 JS 엔진을 표현한 그림이에요. 대표적인 JS엔진은 크롬 V8이 있어요.</p> <p>그림을 보면 Object형을 저장하는 Heap과 콜 스택으로 구현이 되어있군요.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;oops!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>그래서 실행컨텍스트를 간단하게 표현하면 이렇게 생김</p> <p><img src="https://user-images.githubusercontent.com/39187116/91064196-eb307f00-e669-11ea-996b-7c54766654bf.png" alt="https://user-images.githubusercontent.com/39187116/91064196-eb307f00-e669-11ea-996b-7c54766654bf.png"></p> <h2 id="😡-js-프로그래밍에서-느려진다-는-것은-무엇일까요"><a href="#😡-js-프로그래밍에서-느려진다-는-것은-무엇일까요" class="header-anchor">#</a> 😡 JS 프로그래밍에서 '느려진다'는 것은 무엇일까요?</h2> <p>정확한 개념은 존재하지 않지만 <strong>느린 동작이 스택에 남아있는 것을 보통 느려진다(Blocking)</strong> 라고 해요. 예를들면 <strong>네트워크 요청 같은 작업</strong>( 실제로는 보통 비동기로 처리되지만 )이 동기적으로 실행된다면 오랜시간 동안 콜 스택을 Blocking 하겠죠</p> <p>브라우저에서 Javascript는 이런 문제를 <strong>비동기 콜백(Asyncrouns callback)</strong> 으로 해결해요.</p> <p><img src="https://user-images.githubusercontent.com/39187116/91061344-08b01980-e667-11ea-8b22-ee1ea223358b.png" alt="https://user-images.githubusercontent.com/39187116/91061344-08b01980-e667-11ea-8b22-ee1ea223358b.png"></p> <p><img src="https://user-images.githubusercontent.com/39187116/91061175-d3a3c700-e666-11ea-9921-d490331d727b.png" alt="https://user-images.githubusercontent.com/39187116/91061175-d3a3c700-e666-11ea-9921-d490331d727b.png"></p> <p>비동기로 처리한다는 것은 작업에 대한 행위를 다른 주체에 맡기고, 작업이 끝나면 해당 작업의 결과값이나 미리 등록해 놓은 콜백을 실행하는 방식을 말해요.</p> <h2 id="🙄-그럼-위-사진에서-서버-요청을-처리하는-작업은-누가-담당하나요"><a href="#🙄-그럼-위-사진에서-서버-요청을-처리하는-작업은-누가-담당하나요" class="header-anchor">#</a> 🙄 그럼 위 사진에서 서버 요청을 처리하는 작업은 누가 담당하나요?</h2> <p>바로 <strong>브라우저</strong>가 담당해요. 브라우저는 웹에서 자바스크립트 여러 효과적인 행동을 수행할 수 있도록 <strong>Web Api</strong> 들을 제공해요.</p> <p><img src="https://user-images.githubusercontent.com/39187116/91077710-7fa3dd00-e67c-11ea-85c1-5905310e6746.png" alt="https://user-images.githubusercontent.com/39187116/91077710-7fa3dd00-e67c-11ea-85c1-5905310e6746.png"></p> <p>네트워크 요청은 브라우저에서 제공하는 <code>XMLHttpReqest API</code>를 이용해요</p> <p><strong>브라우저가 제공하는 API는 EcmaScript 기반이 아니기 때문에 js 엔진이 해석할 수 없어요.</strong> &quot;브라우저&quot;가 해석을 하죠. 그리고 <code>xmlHttpRequest</code> 는 비동기 콜백을 지원하는 메소드에요. 따라서 네트워크 요청을 브라우저에게 넘기고 JS엔진은 다음 작업을 실행하게 돼요. <strong>마치 멀티 쓰레드인 것 처럼! (동시성을 지원해줌)</strong></p> <h2 id="🤣-예시를-국민-예시-settimeout으로-바꿔-볼게요"><a href="#🤣-예시를-국민-예시-settimeout으로-바꿔-볼게요" class="header-anchor">#</a> 🤣 예시를 국민 예시, setTimeout으로 바꿔 볼게요..</h2> <p>지금까지 말했던 예시를 <code>setTimeout</code>으로 적용해볼게요.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>'아 졸린다<span class="token punctuation">.</span> 자소서 <span class="token number">6</span>번 언제쓰지&quot;<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span>
</code></pre></div><ol><li>먼저 <code>setTimeout</code> 함수가 실행돼요. 그럼 Call Stack에 <code>setTimeout</code> 함수가 쌓이겠죠</li> <li><code>setTimeout</code> 함수는 EcmaScript에 정의되지 않고 비동기 콜백을 지원하는 Web API 에요. 따라서 콜백함수</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;아 졸린다. 자소서 6번 언제쓰지&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>를 브라우저에게 넘기고, 브라우저는 열심히 타이머 연산을 하게 됩니다. ( 10000ms )</p> <ol><li>브라우저에게 작업을 넘긴 순간 콜 스택에서 <code>setTimeout</code> 함수는 사라져요.</li> <li>그럼 10000ms가 지나면 <code>() =&gt; console.log(~)</code> 를 어떻게 실행할까요? 브라우저는 타이머 연산이 끝나면 콜백 함수를 바로 콜 스택으로 보내지 않고 <strong>Callback Queue</strong> 라는 곳에 넣어요.</li></ol> <blockquote><p>Callback Queue는 자바스크립트 런탙임에 존재하는 Queue의 한 종류에요. 브라우저가 처리한 작업에 등록된 Callback 메소드를 들어온 순서대로 보관하고 있어요.</p></blockquote> <h2 id="😪-지금까지-이야기를-한장의-그림으로-표현하면"><a href="#😪-지금까지-이야기를-한장의-그림으로-표현하면" class="header-anchor">#</a> 😪 지금까지 이야기를 한장의 그림으로 표현하면..</h2> <p><img src="https://user-images.githubusercontent.com/39187116/91110728-a6343900-e6b9-11ea-8691-bc5127a556ac.png" alt="https://user-images.githubusercontent.com/39187116/91110728-a6343900-e6b9-11ea-8691-bc5127a556ac.png"></p> <p>드디어 이벤트 루프가 보이는군요....</p> <h2 id="😩-이벤트-루프"><a href="#😩-이벤트-루프" class="header-anchor">#</a> 😩 이벤트 루프</h2> <p>위에서 선언했던 이벤트 루프 설명을 다시 볼까요?</p> <blockquote><p>Call Stack과 Callback Queue의 상태를 체크하여,Call Stack이 빈 상태가 되면, Callback Queue의 첫번째 콜백을 Call Stack으로 밀어넣는다</p></blockquote> <p><strong>즉 이벤트 루프는 콜백 큐에 쌓인 함수를 콜 스택으로 넣어주는 역할을 하는군..🤔</strong> 단.. 콜 스택이 비어있을 때!</p> <p>설명을 위해 다른예제를 준비했는데요</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">delay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;foo!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (3)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;bar!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (2)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;baz!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (4)</span>
<span class="token punctuation">}</span> <span class="token comment">// callback function</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span>baz<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (1)</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>위 상황에서 <code>setTimeout</code> 함수는 10ms 후에 실행된다고 예상하겠죠?</p> <p>근데 <code>foo</code> 함수가 실행되면 그 안에서 <code>delay</code> 와 <code>bar</code> 함수가 실행되면서 콜 스택이 열심히 일을해요.</p> <p>브라우저는 진작에 <code>setTimeout</code> 함수의 타이머 연산을 마치고 <code>baz</code> 함수를 Callback Queue에 넣었겠죠.</p> <p>이벤트 루프는 이 <code>baz</code> 함수를 콜 스택에 보내고 싶은데, JS 엔진이 열심히 일하고 있으니까 간을 봐요.</p> <p>그러다가 어느순간 콜 스택이 empty 했을 때, 콜백 큐에 있었던 <code>baz</code> 함수를 콜 스택에 보내서 처리하게 돼요.</p> <p><strong>여기서 추가적으로 알 수 있는 점은?</strong> setTimeout(baz)</p> <ul><li>setTimeout, setInterval 함수에 2번째 값으로 설정된 값은 &quot;최소 몇 ms 후에 실행하겠다~&quot; 만 보장한다. 콜 스택이 비어있지 않으면 콜백 함수가 실행되지 못하니까!
<ul><li>근데 추가적으로 setTimeout의 default ms 는 4ms. 따라서 0으로 설정해도 소용없음^^;;</li> <li>![image-20200825122810463](/Users/woowahan14/Library/Application Support/typora-user-images/image-20200825122810463.png)
<ul><li>처럼 다른 탭에 있으면 최대 1초. 따라서 1초 미만으로 설정해도 소용없음^^;;</li></ul></li> <li>근데 0초로 만드는 방법도 있음 <a href="https://dbaron.org/log/20100309-faster-timeouts" target="_blank" rel="noopener noreferrer">여기<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 참고</li></ul></li> <li>브라우저의 렌더링도 비동기로 실행된다고 해요. 콜 스택이 잘 비워지지 않는 코드를 짜면 렌더링이 잘 안되겠죠?</li></ul> <h2 id="😇-callback-queue에는-여러-종류가-있다"><a href="#😇-callback-queue에는-여러-종류가-있다" class="header-anchor">#</a> 😇 Callback Queue에는 여러 종류가 있다.</h2> <p><a href="vscode-webview-resource://11e2d440-0493-41e8-bc62-4d7b60f876b1/file///Users/woowahan15/Downloads/%5Bhttps://velog.io/@thms200/Event-Loop-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84%5D(https://velog.io/@thms200/Event-Loop-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84)">여기</a> 를 참고하자.</p> <h2 id="reference"><a href="#reference" class="header-anchor">#</a> Reference</h2> <ol><li><a href="https://sangcho.tistory.com/entry/ES5-Intro1-JavaScript-%ED%8A%B9%EC%A7%95" target="_blank" rel="noopener noreferrer">https://sangcho.tistory.com/entry/ES5-Intro1-JavaScript-%ED%8A%B9%EC%A7%95<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://velog.io/@thms200/Event-Loop-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84" target="_blank" rel="noopener noreferrer">https://velog.io/@thms200/Event-Loop-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/woowa-techcamp-2020/practice-interview/edit/master/Javascript/EventLoop-홍동욱.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/practice-interview/Javascript/Closure-남현우.html" class="prev">
        Closure - 남현우
      </a></span> <span class="next"><a href="/practice-interview/Javascript/Hoisting-전수현.html">
        Hoisting - 전수현
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/practice-interview/assets/js/app.56e5f5e7.js" defer></script><script src="/practice-interview/assets/js/2.31acd8a3.js" defer></script><script src="/practice-interview/assets/js/9.69ed37e1.js" defer></script>
  </body>
</html>
